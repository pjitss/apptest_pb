import groovy.json.JsonSluperClassic

#properties(

#        parameters([
#            string)defaultValue: 'main', name: 'BRANCH'),
#            string)defaultValue: '0000', name: 'REQID'),
#            string)defaultValue: 'app', name: 'comp'),
#            string)defaultValue: '', name: 'SERVICE')
#
#        ]
#
#        )
#)

node {
    stage ('git fetch') {
        git branch: 'main', credentialsId: 'ansible_user', url: 'https://github.com/pjitss/apptest_pb.git'
    }

    stage (executing playbook) {
        ansiblePlaybook(
            playbook: "appstart.yml"
            extras: " -i "myinven.ini" "
        )
    }
}

